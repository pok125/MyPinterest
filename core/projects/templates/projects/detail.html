{% extends 'base.html' %}
{% load static %}
{% block content %}
<style>
    .container div {
                width: 250px;
                background-color: antiquewhite;
                display: flex;
                justify-content: center;
                align-items: center;
                border-radius: 1rem;
            }
    .container img {
        width: 100%;
        border-radius: 1rem;
    }
</style>
<div style="text-align: center; max-width: 500px; margin: 4rem auto;">
    <h2>
    {{ target_project.title }}
    </h2>
    
    <img src="{{ target_project.image.url }}" alt=""
    style="height: 15rem; width: 15rem; border-radius: 1rem; margin-bottom: 2rem;">
    <p>
        {{ target_project.description }}
    </p>
    
    {% if user.is_authenticated %}
        <!-- 구독버튼 -->
        
        {% if not subscription %}
        <a href="{% url 'subscriptions:subscribe' %}?project_pk={{ target_project.pk }}" class="btn btn-dark rounded-pill col-6 mt-3">구독</a>
        {% else %}
        <a href="{% url 'subscriptions:subscribe' %}?project_pk={{ target_project.pk }}" class="btn btn-danger rounded-pill col-6 mt-3">구독취소</a>
        {% endif %}
            
     
    {% endif %}
        
    
</div> 
<hr> 
<!-- articles -->
{% if object_list %}
<div class="container">
    {% for article in object_list %}
    <div>
        <a href="{% url 'articles:detail' pk=article.pk %}">
            <img src="{{ article.image.url }}" alt="">
        </a>
    </div>
    {% endfor %}
</div>
<script src="{% static 'js/magic_grid.js' %}"></script>   

{% endif %}
{% endblock %}